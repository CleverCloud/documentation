{{ define "main" }}
  <div class='mx-auto flex {{ partial "utils/page-width" . }}'>
    {{ partial "sidebar.html" (dict "context" . "disableSidebar" true "displayPlaceholder" false) }}
    <article class="w-full break-words flex ">
      <main class="w-full">
        <div class="content">
          {{ .Content }}
        </div>
        <style>
          body > div.mx-auto.flex.max-w-full > article > main > div.content {
          height: calc(100vh - 205px) !important;
        }

    rapi-doc::part(textbox-nav-filter) { /* <<< targets the server div */
      background-color: rgb(0 0 0 / .05);
    }

        </style>
          <script defer >
            /* Initialize light/dark mode */
            document.addEventListener("DOMContentLoaded", (event) => {
            if (localStorage.getItem("color-theme") === "dark" || (!("color-theme" in localStorage) && window.matchMedia("(prefers-color-scheme: dark)").matches)) {
              document.querySelector(".content").innerHTML = "";
              document.querySelector(".content").innerHTML += "<rapi-doc id='api-doc' spec-url='https://api.clever-cloud.com/v2/openapi.json'     show-method-in-nav-bar='as-colored-text'     show-header = 'false'     show-info = 'false'     allow-try='true'  allow-search='true'     allow-authentication ='false'     allow-authentication='true' allow-server-selection = 'false'     allow-api-list-style-selection ='true'     nav-bg-color='#000000'  bg-color='#111'   nav-text-color='#FFFFF'    nav-hover-bg-color='#111'     nav-hover-text-color='#DEDEDE'     nav-accent-color='#5754AA'     font-size='largest'     primary-color='#5754aa'     render-style = 'focused'     regular-font = 'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neu\", Arial, \"Noto Sans\", sans-serif'     mono-font='Monaco, \"Andale Mono\", \"Roboto Mono\", \"Consolas\"     nav-item-spacing='default'     height='85vh'     nav-active-item-marker='left-bar'    nav-accent-text-color='#A51050'    layout='column' theme='dark'     scrolling='no'   use-path-in-nav-bar='true' >  </rapi-doc>";
            } else {
              //When light
              document.querySelector(".content").innerHTML = "";
              document.querySelector(".content").innerHTML += "<rapi-doc id='api-doc' spec-url='https://api.clever-cloud.com/v2/openapi.json'     show-method-in-nav-bar='as-colored-text'     show-header = 'false'     show-info = 'false'     allow-try='true'     allow-search='true'     allow-authentication ='false'     allow-authentication='true' allow-server-selection = 'false'     allow-api-list-style-selection ='true'     nav-bg-color='#FFFFFF'     nav-text-color='#1C2045'     nav-hover-bg-color='#f1f0fb'     nav-hover-text-color='#A51050'     nav-accent-color='#DEDEDE'     nav-accent-text-color='#A51050'         font-size='largest'     primary-color='#5754AA'     render-style = 'focused'     regular-font = 'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neu\", Arial, \"Noto Sans\", sans-serif'     mono-font='Monaco, \"Andale Mono\", \"Roboto Mono\", \"Consolas\" monospace'     nav-item-spacing='default'     layout='column'     scrolling='no' nav-active-item-marker='left-bar' use-path-in-nav-bar='true'> </rapi-doc>";
            }
            });
          </script>
          <script defer>
            /** 
             * FIXME: 
             * This is a temporary solution to an issue caused by 3rd party scripts.
             * Once they fix the issue, we should remove this.
             *
             * see https://github.com/CleverCloud/documentation/issues/218 for more info
             */
            document.addEventListener("DOMContentLoaded", (event) => {
              const rapiDocElement = document.getElementById('api-doc');
              rapiDocElement.addEventListener('keydown', (event) => {
                const formElementTagNames = ['INPUT', 'SELECT', 'TEXTAREA', 'BUTTON'];
                const triggerElement = event.composedPath()[0];
                
                if (formElementTagNames.includes(triggerElement.tagName)) {
                  event.stopPropagation();
                }
              });
            })
          </script>
      </main>
    </article>
  </div>
{{ end }}
